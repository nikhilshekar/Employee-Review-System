<% if (locals.user) {%>
  <div class="d-flex flex-column flex-md-row justify-content-around  p-2">
    <div class="container mt-4 col-md-4 ">
      <h4 class="text-center">Emloyee Details</h4>

      <form class="row g-3 mt-1 border rounded p-2 shadow mt-4" 
        style="--bs-border-opacity: 0.5 ;background: #fff2e4;"
        action="/update-employee/<%= employee._id %>" 
        method="POST">

        <!-- Name input -->
        <div class="form-outline ">
          <label class="form-label" for="username"> Name</label>
          <input type="text" id="name" name="username" class="form-control" value="<%= employee.username %>" required />
        </div>

        <!-- Email input -->
        <div class="form-outline ">
          <label class="form-label" for="email">Email Address</label>
          <input type="email" id="email" name="email" class="form-control" value="<%= employee.email %>" disabled
            required />
        </div>

        <!----- Gender Input ----->
        <div class="mt-3">
          <label>Gender : </label>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="gender"
              id="inlineRadio1"
              value="male"
              <% if (employee.gender == 'male') {%>
                checked
              <% } %>
            />
            <label class="form-check-label" for="inlineRadio1">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="gender"
              id="inlineRadio2"
              value="female"
              <% if (employee.gender == 'female') {%>
                checked
              <% } %>
            />
            <label class="form-check-label" for="inlineRadio2">Female</label>
          </div>
        </div>

        <div>
          <span class="fw-semibold">Current role: <%= employee.role %></span>
        </div>

        <!-- role input -->
        <div class="form-outline mb-2">
          <label class="form-label" for="role">Select Role</label>
          <select class="form-select" id="role" name="role" aria-label="Default select example" required>
            <option selected value="employee">Employee</option>
            <option value="admin">Admin</option>
          </select>
        </div>

        <div class="d-flex  justify-content-center mb-2" >
          <button type="submit" class="btn btn-success" style="width:50%;">Save</button>
        </div>

      </form>
    </div>


    <!-- Reviews section -->
    <div class="container mt-4 col-md-4 ">
      <h4 class="text-center">Feedbacks given by other users</h4>

      <% for(review of reviewsFromOthers) {%>
        <div>
          <form action="/review/update-review/<%= review._id%>" method="POST" class="rounded p-3 mt-4 border shadow" style="background: #fff2e4;">
            
            <div class="form-outline mb-2">
              <label for="recipient" class="form-label">From</label>
              <input type="text" id="recipient" class="form-control" value="<%= review.reviewer.email %>" disabled>
            </div>

            <div>
              <label for="feedback" class="form-label">Feedback</label>
              <textarea class="form-control " id="feedback-form" name="feedback" rows="3"><%=review.review %></textarea>
            </div>

            <div class="d-flex justify-content-center">
              <button class="btn btn-success mt-2" type="submit" style="width: 40%;">Update</button>
            </div>

          </form>
          <%} %>
        </div>


      </div>

    </div>

  </div>

  <%} %>